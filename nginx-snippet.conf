    # =============================================
    # AACSB Accreditation App
    # =============================================

    # Static files (CSS, JS)
    location /aacsb/static/ {
        alias /var/www/aacsb/frontend/;
        expires 1d;
        add_header Cache-Control "public";
    }

    # Login page
    location = /aacsb/login {
        alias /var/www/aacsb/frontend/index.html;
        default_type text/html;
    }

    # AOL index
    location = /aacsb/aol {
        alias /var/www/aacsb/frontend/aol/index.html;
        default_type text/html;
    }

    location = /aacsb/aol/ {
        alias /var/www/aacsb/frontend/aol/index.html;
        default_type text/html;
    }

    # AOL programme pages (dynamic)
    location ~ ^/aacsb/aol/programme/[0-9]+$ {
        alias /var/www/aacsb/frontend/aol/programme.html;
        default_type text/html;
    }

    # AOL settings page
    location = /aacsb/aol/settings {
        alias /var/www/aacsb/frontend/aol/settings.html;
        default_type text/html;
    }

    # Admin page
    location = /aacsb/admin {
        alias /var/www/aacsb/frontend/admin.html;
        default_type text/html;
    }

    location = /aacsb/admin/ {
        alias /var/www/aacsb/frontend/admin.html;
        default_type text/html;
    }

    # Research page
    location = /aacsb/research {
        alias /var/www/aacsb/frontend/research.html;
        default_type text/html;
    }

    location = /aacsb/research/ {
        alias /var/www/aacsb/frontend/research.html;
        default_type text/html;
    }

    # Qualifications page
    location = /aacsb/qualifications {
        alias /var/www/aacsb/frontend/qualifications.html;
        default_type text/html;
    }

    location = /aacsb/qualifications/ {
        alias /var/www/aacsb/frontend/qualifications.html;
        default_type text/html;
    }

    # API endpoints
    location /aacsb/api/ {
        proxy_pass http://127.0.0.1:8001/aacsb/api/;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }

    # Magic link verification redirect
    location /aacsb/auth/ {
        proxy_pass http://127.0.0.1:8001/aacsb/api/auth/;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }

    # Root redirects
    location = /aacsb {
        return 301 /aacsb/aol;
    }

    location = /aacsb/ {
        return 301 /aacsb/aol;
    }
